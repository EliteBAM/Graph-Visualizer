<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@300&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Project Title</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>[ GRAPH VISUALIZER ]</h1>
    <div id="unity-container" class="unity-desktop">
      <canvas id="unity-canvas" width=960 height=600 tabindex="-1"></canvas>
      <div id="unity-loading-bar">
        <div id="unity-logo"></div>
        <div id="unity-progress-bar-empty">
          <div id="unity-progress-bar-full"></div>
        </div>
      </div>
      <div id="unity-warning"> </div>
      <div id="unity-footer">
        <!--<div id="unity-webgl-logo"></div>-->
        <div id="unity-fullscreen-button"></div>
        <!--<div id="unity-build-title">GraphVisualizer</div>-->
      </div>
    </div>
    <p>Build your own graphs through GUI user input, and run algorithms on them. Watch as the algorithm is animated step by step. Currently only BFS and Shortest Path are supported. More extensive features may come in the future if I feel like it, or if anyone ends up taking interest in this.</p>
    <a href="https://github.com/EliteBAM/Graph-Visualizer/tree/main">GitHub</a>
  </div>
  <script>
    var container = document.querySelector("#unity-container");
    var canvas = document.querySelector("#unity-canvas");
    var loadingBar = document.querySelector("#unity-loading-bar");
    var progressBarFull = document.querySelector("#unity-progress-bar-full");
    var fullscreenButton = document.querySelector("#unity-fullscreen-button");
    var warningBanner = document.querySelector("#unity-warning");
  
    function unityShowBanner(msg, type) {
      function updateBannerVisibility() {
        warningBanner.style.display = warningBanner.children.length ? 'block' : 'none';
      }
      var div = document.createElement('div');
      div.innerHTML = msg;
      warningBanner.appendChild(div);
      if (type == 'error') div.style = 'background: red; padding: 10px;';
      else if (type == 'warning') div.style = 'background: yellow; padding: 10px;';
      setTimeout(function() {
        warningBanner.removeChild(div);
        updateBannerVisibility();
      }, 5000);
      updateBannerVisibility();
    }
  
    var buildUrl = "Build";
    var loaderUrl = buildUrl + "/Unity_WebGL.loader.js";
    var config = {
      dataUrl: buildUrl + "/Unity_WebGL.data.gz",
      frameworkUrl: buildUrl + "/Unity_WebGL.framework.js.gz",
      codeUrl: buildUrl + "/Unity_WebGL.wasm.gz",
      streamingAssetsUrl: "StreamingAssets",
      companyName: "DefaultCompany",
      productName: "GraphVisualizer",
      productVersion: "0.1",
      showBanner: unityShowBanner,
    };
  
    if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
      container.className = "unity-mobile";
      canvas.className = "unity-mobile";
    } else {
      container.style.width = "100%";
      container.style.height = "100%";
      canvas.style.width = "100%";
      canvas.style.height = "100%";
    }
  
    function resizeCanvas() {
      canvas.style.width = '100%';
      canvas.style.height = '100%';
    }
  
    window.addEventListener('resize', resizeCanvas);
  
    loadingBar.style.display = "block";
  
    var script = document.createElement("script");
    script.src = loaderUrl;
    script.onload = () => {
      createUnityInstance(canvas, config, (progress) => {
        progressBarFull.style.width = 100 * progress + "%";
      }).then((unityInstance) => {
        loadingBar.style.display = "none";
        fullscreenButton.onclick = () => {
          unityInstance.SetFullscreen(1);
        };
      }).catch((message) => {
        alert(message);
      });
    };
  
    document.body.appendChild(script);
  </script>
  
</body>
</html>